<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>治愈系待办清单</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script>tailwind.config={theme:{extend:{colors:{primary:'#8E6FF7'},borderRadius:{'none':'0px','sm':'2px',DEFAULT:'4px','md':'8px','lg':'12px','xl':'16px','2xl':'20px','3xl':'24px','full':'9999px','button':'4px'}}}}</script>
<style>
@keyframes float {
0% { transform: translateY(0px); }
50% { transform: translateY(-10px); }
100% { transform: translateY(0px); }
}
.float-animation {
animation: float 3s ease-in-out infinite;
}
input[type="checkbox"] {
display: none;
}
.custom-checkbox {
width: 24px;
height: 24px;
border: 2px solid #FF9ECD;
border-radius: 6px;
position: relative;
cursor: pointer;
transition: all 0.3s;
}
.custom-checkbox.checked {
background-color: #FF9ECD;
}
.custom-checkbox.checked::after {
content: '✓';
position: absolute;
color: white;
font-size: 16px;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
}
</style>
</head>
<body class="min-h-[1024px] bg-gradient-to-b from-pink-50 to-blue-50 flex">
<nav class="fixed left-0 top-0 h-full w-64 bg-white shadow-lg z-50">
<div class="p-6">
<div class="flex items-center mb-8">
<div class="relative">
<button id="avatarBtn" class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden hover:opacity-90 transition-opacity">
<img src="https://49.235.149.110/favicon.ico" alt="avatar" class="w-full h-full object-cover">
</button>
<div id="userMenu" class="hidden absolute left-0 top-12 bg-white shadow-lg rounded-lg py-2 w-36 z-50">
<div class="px-4 py-2 border-b border-gray-100">
<div class="font-medium text-gray-800">Sarah Wilson</div>
<div class="text-sm text-gray-500">设计师</div>
</div>
<button class="w-full px-4 py-2 text-left text-gray-600 hover:bg-gray-50 flex items-center gap-2">
<i class="fas fa-cog w-4 h-4 flex justify-center items-center"></i>
<span>设置</span>
</button>
<button class="w-full px-4 py-2 text-left text-gray-600 hover:bg-gray-50 flex items-center gap-2">
<i class="fas fa-user w-4 h-4 flex justify-center items-center"></i>
<span>个人信息</span>
</button>
</div>
</div>
</div>
<div class="space-y-2">
<button class="w-full text-left px-4 py-3 text-gray-600 hover:bg-pink-50 hover:text-primary transition-all rounded-lg whitespace-nowrap flex items-center gap-3 nav-button" data-target="dailyTasks">
<i class="fas fa-calendar-day w-5 h-5 flex justify-center items-center"></i>
<span>每日待办</span>
</button>
<div id="workTasks" class="hidden">
<!-- 工作任务列表 -->
</div>
<div id="studyTasks" class="hidden">
<!-- 学习计划列表 -->
</div>
<div id="healthTasks" class="hidden">
<!-- 健康习惯列表 -->
</div>
<button class="w-full text-left px-4 py-3 text-gray-600 hover:bg-pink-50 hover:text-primary transition-all rounded-lg whitespace-nowrap flex items-center gap-3 nav-button" data-target="rewards">
<i class="fas fa-gift w-5 h-5 flex justify-center items-center"></i>
<span>奖励超市</span>
</button>
<button class="w-full text-left px-4 py-3 text-gray-600 hover:bg-pink-50 hover:text-primary transition-all rounded-lg whitespace-nowrap flex items-center gap-3 nav-button" data-target="myRewards">
<i class="fas fa-trophy w-5 h-5 flex justify-center items-center"></i>
<span>我的奖励</span>
</button>
<button class="w-full text-left px-4 py-3 text-gray-600 hover:bg-pink-50 hover:text-primary transition-all rounded-lg whitespace-nowrap flex items-center gap-3 nav-button" data-target="taskViews">
<i class="fas fa-calendar w-5 h-5 flex justify-center items-center"></i>
<span>任务视图</span>
</button>
</div>
<div class="absolute bottom-6 left-0 w-full px-6">
<div class="flex items-center gap-2 bg-pink-50 p-4 rounded-lg">
<i class="fas fa-star text-yellow-400"></i>
<span class="text-gray-600">积分: 280</span>
</div>
</div>
</div>
</nav>
<main class="flex-1 ml-64 max-w-[1176px] mx-auto pt-8 px-8 pb-16">
<div id="rewards" class="space-y-8 hidden">
<div class="bg-white rounded-xl shadow-lg p-6">
<div class="flex justify-between items-center mb-4">
<h2 class="text-xl font-bold text-gray-800">奖励超市</h2>
<button id="addRewardBtn" class="px-4 py-2 bg-primary text-white !rounded-button hover:bg-opacity-90 transition-colors whitespace-nowrap flex items-center gap-2">
<i class="fas fa-plus"></i>
<span>创建奖励</span>
</button>
</div>
<div class="space-y-4">
<div class="flex items-center gap-4 p-4 bg-pink-50 rounded-lg justify-between">
<div>
<span class="font-medium text-gray-800">精美电影票</span>
<p class="text-sm text-gray-500 mt-1">周末看场期待已久的电影</p>
</div>
<div class="flex items-center gap-2">
<span class="text-primary font-medium">200积分</span>
<button class="px-4 py-2 bg-primary text-white !rounded-button hover:bg-opacity-90 transition-colors whitespace-nowrap">兑换</button>
</div>
</div>
<div class="flex items-center gap-4 p-4 bg-pink-50 rounded-lg justify-between">
<div>
<span class="font-medium text-gray-800">按摩放松</span>
<p class="text-sm text-gray-500 mt-1">犒劳一下辛苦工作的自己</p>
</div>
<div class="flex items-center gap-2">
<span class="text-primary font-medium">300积分</span>
<button class="px-4 py-2 bg-primary text-white !rounded-button hover:bg-opacity-90 transition-colors whitespace-nowrap">兑换</button>
</div>
</div>
<div class="flex items-center gap-4 p-4 bg-pink-50 rounded-lg justify-between">
<div>
<span class="font-medium text-gray-800">新款数码产品</span>
<p class="text-sm text-gray-500 mt-1">为生活添加一些科技感</p>
</div>
<div class="flex items-center gap-2">
<span class="text-primary font-medium">500积分</span>
<button class="px-4 py-2 bg-primary text-white !rounded-button hover:bg-opacity-90 transition-colors whitespace-nowrap">兑换</button>
</div>
</div>
</div>
</div>
</div>
<div id="dailyTasks" class="space-y-8 hidden">
<div class="bg-white rounded-xl shadow-lg p-6">
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-xl font-bold text-gray-800">每日待办</h2>
    <span class="text-sm text-gray-500">2025年7月7日 星期一</span>
  </div>
  <div id="dailyTaskList" class="space-y-4">
    <!-- 每日待办任务将在这里动态添加 -->
  </div>
  <button id="addDailyTaskBtn" class="mt-6 w-full bg-primary text-white py-3 !rounded-button hover:bg-opacity-90 transition-colors whitespace-nowrap">
    添加新待办
  </button>
</div>
<div class="bg-gradient-to-r from-pink-50 to-blue-50 rounded-xl p-6 mb-8">
<p class="text-gray-600 text-lg">今天也要充满活力地完成任务哦！💪</p>
<p class="text-primary text-sm mt-2">已经完成 6 个任务，继续保持～</p>
</div>
<div class="bg-white rounded-xl shadow-lg p-6">
<div class="flex justify-between items-center mb-6">
<h2 class="text-xl font-bold text-gray-800">每日待办</h2>
<span class="text-sm text-gray-500">2025年7月7日 星期一</span>
</div>
<div class="grid grid-cols-2 gap-4 mb-6">
<div class="bg-blue-50 p-4 rounded-lg">
<div class="flex justify-between items-center mb-2">
<span class="text-blue-600 font-medium">工作任务</span>
<span class="text-blue-600">2/5</span>
</div>
<div class="w-full bg-blue-100 rounded-full h-2">
<div class="bg-blue-600 h-2 rounded-full" style="width: 40%"></div>
</div>
</div>
<div class="bg-purple-50 p-4 rounded-lg">
<div class="flex justify-between items-center mb-2">
<span class="text-purple-600 font-medium">学习计划</span>
<span class="text-purple-600">1/3</span>
</div>
<div class="w-full bg-purple-100 rounded-full h-2">
<div class="bg-purple-600 h-2 rounded-full" style="width: 33%"></div>
</div>
</div>
<div class="bg-green-50 p-4 rounded-lg">
<div class="flex justify-between items-center mb-2">
<span class="text-green-600 font-medium">健康习惯</span>
<span class="text-green-600">3/4</span>
</div>
<div class="w-full bg-green-100 rounded-full h-2">
<div class="bg-green-600 h-2 rounded-full" style="width: 75%"></div>
</div>
</div>
<div class="bg-pink-50 p-4 rounded-lg">
<div class="flex justify-between items-center mb-2">
<span class="text-primary font-medium">总进度</span>
<span class="text-primary">6/12</span>
</div>
<div class="w-full bg-pink-100 rounded-full h-2">
<div class="bg-primary h-2 rounded-full" style="width: 50%"></div>
</div>
</div>
</div>
</div>
<div class="bg-white rounded-xl shadow-lg p-6">
<h2 class="text-xl font-bold mb-4 text-gray-800">工作任务</h2>
<div class="space-y-4">
<div class="flex items-center gap-4 p-4 bg-pink-50 rounded-lg group task-item task-work">
<label class="custom-checkbox"></label>
<input type="checkbox">
<span class="flex-1">完成产品设计方案</span>
<span class="text-primary font-medium">+40</span>
<span class="hidden group-hover:block text-xs text-gray-500 ml-2">加油，这个任务很重要！</span>
</div>
<div class="flex items-center gap-4 p-4 bg-pink-50 rounded-lg group task-item task-study">
<label class="custom-checkbox"></label>
<input type="checkbox">
<span class="flex-1">阅读一章专业书籍</span>
<span class="text-primary font-medium">+20</span>
<span class="hidden group-hover:block text-xs text-gray-500 ml-2">坚持阅读，成长更快～</span>
</div>
<div class="flex items-center gap-4 p-4 bg-pink-50 rounded-lg group task-item task-health">
<label class="custom-checkbox"></label>
<input type="checkbox">
<span class="flex-1">晨跑 30 分钟</span>
<span class="text-primary font-medium">+10</span>
<span class="hidden group-hover:block text-xs text-gray-500 ml-2">运动让生活更有活力！</span>
</div>
</div>
<button id="addTaskBtn" class="mt-6 w-full bg-primary text-white py-3 !rounded-button hover:bg-opacity-90 transition-colors whitespace-nowrap">
添加新待办
</button>
</div>
</div>
<div id="rewardModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-[100]">
<div class="bg-white rounded-xl p-6 w-[480px]">
<div class="flex justify-between items-center mb-6">
<h3 class="text-xl font-bold text-gray-800">创建新奖励</h3>
<button id="closeRewardModal" class="text-gray-400 hover:text-gray-600">
<i class="fas fa-times w-6 h-6 flex justify-center items-center"></i>
</button>
</div>
<form id="rewardForm" class="space-y-4">
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">奖励名称</label>
<input type="text" id="rewardName" class="w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary" placeholder="请输入奖励名称" required>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">奖励描述</label>
<input type="text" id="rewardDesc" class="w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary" placeholder="请输入奖励描述" required>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">所需积分</label>
<input type="number" id="rewardPoints" class="w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary" min="1" value="100" required>
</div>
<div class="flex justify-end gap-3 mt-6">
<button type="button" id="cancelRewardBtn" class="px-6 py-2 border border-gray-200 text-gray-600 !rounded-button hover:bg-gray-50 transition-colors whitespace-nowrap">取消</button>
<button type="submit" class="px-6 py-2 bg-primary text-white !rounded-button hover:bg-opacity-90 transition-colors whitespace-nowrap">确定</button>
</div>
</form>
</div>
</div>
<div id="taskModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-[100]">
<div class="bg-white rounded-xl p-6 w-[480px]">
<div class="flex justify-between items-center mb-6">
<h3 class="text-xl font-bold text-gray-800">添加新待办</h3>
<button id="closeModal" class="text-gray-400 hover:text-gray-600">
<i class="fas fa-times w-6 h-6 flex justify-center items-center"></i>
</button>
</div>
<form id="taskForm" class="space-y-4">
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">任务名称</label>
<input type="text" id="taskName" class="w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary" placeholder="请输入任务名称" required>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">任务类型</label>
<div class="relative">
<select id="taskType" class="w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary appearance-none bg-white" required>
<option value="work">工作任务</option>
<option value="study">学习计划</option>
<option value="health">健康习惯</option>
</select>
<i class="fas fa-chevron-down absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"></i>
</div>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">积分奖励</label>
<input type="number" id="taskPoints" class="w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary" min="1" max="100" value="10" required>
</div>
<div>
<label class="block text-sm font-medium text-gray-700 mb-2">子任务</label>
<div id="subtaskContainer" class="space-y-2">
<div class="subtask-item flex gap-2">
<input type="text" class="subtask flex-1 px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary" placeholder="请输入子任务">
<button type="button" class="remove-subtask text-red-500 hover:text-red-600 px-2">
<i class="fas fa-times w-5 h-5 flex justify-center items-center"></i>
</button>
</div>
</div>
<button type="button" id="addSubtask" class="mt-2 text-primary hover:text-opacity-80 text-sm flex items-center gap-1">
<i class="fas fa-plus"></i>
<span>添加子任务</span>
</button>
</div>
<div class="flex justify-end gap-3 mt-6">
<button type="button" id="cancelBtn" class="px-6 py-2 border border-gray-200 text-gray-600 !rounded-button hover:bg-gray-50 transition-colors whitespace-nowrap">取消</button>
<button type="submit" class="px-6 py-2 bg-primary text-white !rounded-button hover:bg-opacity-90 transition-colors whitespace-nowrap">确定</button>
</div>
</form>
</div>
</div>
<div class="col-span-1">
<div id="myRewards" class="space-y-8 hidden">
<div class="bg-white rounded-xl shadow-lg p-6">
<h2 class="text-xl font-bold mb-4 text-gray-800">可实现奖励</h2>
<div class="space-y-4">
<div class="p-4 bg-green-50 rounded-lg">
<div class="flex justify-between items-center">
<span class="font-medium text-gray-800">美味火锅</span>
<button class="px-4 py-2 bg-green-500 text-white !rounded-button hover:bg-opacity-90 transition-colors whitespace-nowrap">
使用
</button>
</div>
<p class="text-sm text-gray-500 mt-2">获得时间: 2024-01-15</p>
</div>
<div class="p-4 bg-green-50 rounded-lg">
<div class="flex justify-between items-center">
<span class="font-medium text-gray-800">新游戏</span>
<button class="px-4 py-2 bg-green-500 text-white !rounded-button hover:bg-opacity-90 transition-colors whitespace-nowrap">
使用
</button>
</div>
<p class="text-sm text-gray-500 mt-2">获得时间: 2024-01-10</p>
</div>
</div>
</div>
</div>
</div>
<div id="taskViews" class="space-y-8 hidden">
<div class="bg-white rounded-xl shadow-lg p-6">
<div class="flex justify-between items-center mb-6">
<h2 class="text-xl font-bold text-gray-800">任务视图</h2>
<div class="flex gap-2">
<button class="view-btn px-4 py-2 !rounded-button whitespace-nowrap" data-view="day">日视图</button>
<button class="view-btn px-4 py-2 !rounded-button whitespace-nowrap" data-view="week">周视图</button>
<button class="view-btn px-4 py-2 !rounded-button whitespace-nowrap" data-view="month">月视图</button>
</div>
</div>
<div id="viewContent">
<div id="dayView" class="view-content">
<div class="mb-4">
<h3 class="text-lg font-medium text-gray-800 mb-4">2025年7月8日</h3>
<div class="grid grid-cols-24 gap-2">
<div class="h-20 border-r border-gray-100 text-center">
<div class="text-sm text-gray-500">09:00</div>
<div class="mt-2 px-2 py-1 bg-primary/10 text-primary text-sm rounded">产品设计</div>
</div>
<div class="h-20 border-r border-gray-100 text-center">
<div class="text-sm text-gray-500">10:00</div>
<div class="mt-2 px-2 py-1 bg-secondary/10 text-gray-600 text-sm rounded">团队会议</div>
</div>
</div>
</div>
</div>
<div id="weekView" class="view-content hidden">
<div class="mb-4">
<h3 class="text-lg font-medium text-gray-800 mb-4">2025年第28周</h3>
<div class="grid grid-cols-8 gap-4">
<div class="col-span-1 grid grid-rows-24 gap-2">
<div class="h-20 text-right pr-2 text-sm text-gray-500">09:00</div>
<div class="h-20 text-right pr-2 text-sm text-gray-500">10:00</div>
<div class="h-20 text-right pr-2 text-sm text-gray-500">11:00</div>
<div class="h-20 text-right pr-2 text-sm text-gray-500">12:00</div>
<div class="h-20 text-right pr-2 text-sm text-gray-500">13:00</div>
<div class="h-20 text-right pr-2 text-sm text-gray-500">14:00</div>
<div class="h-20 text-right pr-2 text-sm text-gray-500">15:00</div>
<div class="h-20 text-right pr-2 text-sm text-gray-500">16:00</div>
<div class="h-20 text-right pr-2 text-sm text-gray-500">17:00</div>
<div class="h-20 text-right pr-2 text-sm text-gray-500">18:00</div>
</div>
<div class="text-center p-4 bg-pink-50 rounded-lg">
<div class="font-medium text-gray-800 mb-2">周一 7/8</div>
<div class="text-sm text-primary">4个任务</div>
</div>
<div class="text-center p-4 bg-pink-50 rounded-lg">
<div class="font-medium text-gray-800 mb-2">周二 7/9</div>
<div class="text-sm text-primary">3个任务</div>
</div>
<div class="text-center p-4 bg-pink-50 rounded-lg">
<div class="font-medium text-gray-800 mb-2">周三 7/10</div>
<div class="text-sm text-primary">5个任务</div>
</div>
<div class="text-center p-4 bg-pink-50 rounded-lg">
<div class="font-medium text-gray-800 mb-2">周四 7/11</div>
<div class="text-sm text-primary">2个任务</div>
</div>
<div class="text-center p-4 bg-pink-50 rounded-lg">
<div class="font-medium text-gray-800 mb-2">周五 7/12</div>
<div class="text-sm text-primary">4个任务</div>
</div>
<div class="text-center p-4 bg-pink-50 rounded-lg">
<div class="font-medium text-gray-800 mb-2">周六 7/13</div>
<div class="text-sm text-primary">1个任务</div>
</div>
<div class="text-center p-4 bg-pink-50 rounded-lg">
<div class="font-medium text-gray-800 mb-2">周日 7/14</div>
<div class="text-sm text-primary">2个任务</div>
</div>
</div>
</div>
</div>
<div id="monthView" class="view-content hidden">
<div class="mb-4">
<h3 class="text-lg font-medium text-gray-800 mb-4">2025年7月</h3>
<div class="grid grid-cols-7 gap-2">
<div class="text-center text-gray-400">日</div>
<div class="text-center text-gray-400">一</div>
<div class="text-center text-gray-400">二</div>
<div class="text-center text-gray-400">三</div>
<div class="text-center text-gray-400">四</div>
<div class="text-center text-gray-400">五</div>
<div class="text-center text-gray-400">六</div>
</div>
<div class="grid grid-cols-7 gap-2 mt-2">
<div class="h-24 p-2 bg-pink-50 rounded-lg">
<div class="text-sm text-gray-500">1</div>
</div>
<div class="h-24 p-2 bg-pink-50 rounded-lg">
<div class="text-sm text-gray-500">2</div>
<div class="mt-1 px-1 py-0.5 bg-primary/10 text-primary text-xs rounded">3个任务</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</main>
<script>
document.querySelectorAll('.custom-checkbox').forEach(checkbox => {
checkbox.addEventListener('click', function() {
this.classList.toggle('checked');
const input = this.nextElementSibling;
input.checked = !input.checked;
});
});
const addTaskBtn = document.getElementById('addTaskBtn');
const taskModal = document.getElementById('taskModal');
const closeModal = document.getElementById('closeModal');
const cancelBtn = document.getElementById('cancelBtn');
const taskForm = document.getElementById('taskForm');
// 分类菜单点击事件
const categoryButtons = document.querySelectorAll('.category-button');
categoryButtons.forEach(button => {
  button.addEventListener('click', () => {
    const category = button.dataset.category;
    // 隐藏每日待办区域
    document.getElementById('dailyTasks').classList.add('hidden');
    // 显示当前分类的任务
    document.getElementById(`${category}Tasks`).classList.remove('hidden');
    // 更新按钮状态
    categoryButtons.forEach(btn => {
      btn.classList.remove('bg-pink-50', 'text-primary');
    });
    button.classList.add('bg-pink-50', 'text-primary');
    // 确保主菜单按钮状态正确
    document.querySelector('[data-target="dailyTasks"]').classList.remove('bg-pink-50', 'text-primary');
  });
});

// 主菜单点击事件
const navButtons = document.querySelectorAll('.nav-button');
const pages = ['dailyTasks', 'rewards', 'myRewards', 'taskViews'];
navButtons.forEach(button => {
  button.addEventListener('click', () => {
    const targetPage = button.dataset.target;
    pages.forEach(page => {
      const element = document.getElementById(page);
      if (element) {
        if (page === targetPage) {
          element.classList.remove('hidden');
          button.classList.add('bg-pink-50', 'text-primary');
        } else {
          element.classList.add('hidden');
          const otherButton = document.querySelector(`[data-target="${page}"]`);
          if (otherButton) {
            otherButton.classList.remove('bg-pink-50', 'text-primary');
          }
        }
      }
    });
  });
});
document.querySelector('[data-target="dailyTasks"]').classList.add('bg-pink-50', 'text-primary');
function toggleModal() {
taskModal.classList.toggle('hidden');
}
addTaskBtn.addEventListener('click', toggleModal);
closeModal.addEventListener('click', toggleModal);
cancelBtn.addEventListener('click', toggleModal);
taskModal.addEventListener('click', (e) => {
if (e.target === taskModal) {
toggleModal();
}
});
const addSubtask = document.getElementById('addSubtask');
const subtaskContainer = document.getElementById('subtaskContainer');
addSubtask.addEventListener('click', () => {
const subtaskItem = document.createElement('div');
subtaskItem.className = 'subtask-item flex gap-2';
subtaskItem.innerHTML = `
<input type="text" class="subtask flex-1 px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary" placeholder="请输入子任务">
<button type="button" class="remove-subtask text-red-500 hover:text-red-600 px-2">
<i class="fas fa-times w-5 h-5 flex justify-center items-center"></i>
</button>
`;
subtaskContainer.appendChild(subtaskItem);
subtaskItem.querySelector('.remove-subtask').addEventListener('click', () => {
subtaskItem.remove();
});
});
const addRewardBtn = document.getElementById('addRewardBtn');
const rewardModal = document.getElementById('rewardModal');
const closeRewardModal = document.getElementById('closeRewardModal');
const cancelRewardBtn = document.getElementById('cancelRewardBtn');
const rewardForm = document.getElementById('rewardForm');
function toggleRewardModal() {
rewardModal.classList.toggle('hidden');
}
addRewardBtn.addEventListener('click', toggleRewardModal);
closeRewardModal.addEventListener('click', toggleRewardModal);
cancelRewardBtn.addEventListener('click', toggleRewardModal);
rewardModal.addEventListener('click', (e) => {
if (e.target === rewardModal) {
toggleRewardModal();
}
});
rewardForm.addEventListener('submit', (e) => {
e.preventDefault();
const rewardName = document.getElementById('rewardName').value;
const rewardDesc = document.getElementById('rewardDesc').value;
const rewardPoints = document.getElementById('rewardPoints').value;
const rewardContainer = document.querySelector('#rewards .space-y-4');
const newReward = document.createElement('div');
newReward.className = 'flex items-center gap-4 p-4 bg-pink-50 rounded-lg justify-between';
newReward.innerHTML = `
<div>
<span class="font-medium text-gray-800">${rewardName}</span>
<p class="text-sm text-gray-500 mt-1">${rewardDesc}</p>
</div>
<div class="flex items-center gap-2">
<span class="text-primary font-medium">${rewardPoints}积分</span>
<button class="px-4 py-2 bg-primary text-white !rounded-button hover:bg-opacity-90 transition-colors whitespace-nowrap">兑换</button>
</div>
`;
rewardContainer.appendChild(newReward);
toggleRewardModal();
rewardForm.reset();
});
const avatarBtn = document.getElementById('avatarBtn');
const userMenu = document.getElementById('userMenu');
function toggleUserMenu() {
userMenu.classList.toggle('hidden');
}
avatarBtn.addEventListener('click', toggleUserMenu);
document.addEventListener('click', (e) => {
if (!avatarBtn.contains(e.target) && !userMenu.contains(e.target)) {
userMenu.classList.add('hidden');
}
});
taskForm.addEventListener('submit', (e) => {
e.preventDefault();
const taskName = document.getElementById('taskName').value;
const taskType = document.getElementById('taskType').value;
const taskPoints = document.getElementById('taskPoints').value;
const subtasks = Array.from(document.querySelectorAll('.subtask')).map(input => input.value).filter(Boolean);
const taskContainer = document.querySelector('.space-y-4');
const newTask = document.createElement('div');
newTask.className = 'task-group space-y-2';
const mainTask = document.createElement('div');
mainTask.className = 'flex items-center gap-4 p-4 bg-pink-50 rounded-lg';
mainTask.innerHTML = `
<label class="custom-checkbox"></label>
<input type="checkbox">
<span class="flex-1">${taskName}</span>
<span class="text-gray-500">${subtasks.length ? `(${subtasks.length}个子任务)` : ''}</span>
<span class="text-primary font-medium">+${taskPoints}</span>
`;
newTask.appendChild(mainTask);
if (subtasks.length) {
const subtaskList = document.createElement('div');
subtaskList.className = 'ml-8 space-y-2 hidden';
subtasks.forEach(subtask => {
const subtaskElement = document.createElement('div');
subtaskElement.className = 'flex items-center gap-4 p-3 bg-pink-50/50 rounded-lg';
subtaskElement.innerHTML = `
<label class="custom-checkbox"></label>
<input type="checkbox">
<span class="flex-1">${subtask}</span>
`;
subtaskList.appendChild(subtaskElement);
const subtaskCheckbox = subtaskElement.querySelector('.custom-checkbox');
subtaskCheckbox.addEventListener('click', function() {
this.classList.toggle('checked');
const input = this.nextElementSibling;
input.checked = !input.checked;
});
});
newTask.appendChild(subtaskList);
mainTask.addEventListener('click', (e) => {
if (!e.target.classList.contains('custom-checkbox')) {
subtaskList.classList.toggle('hidden');
}
});
}
taskContainer.appendChild(newTask);
const checkbox = mainTask.querySelector('.custom-checkbox');
checkbox.addEventListener('click', function() {
this.classList.toggle('checked');
const input = this.nextElementSibling;
input.checked = !input.checked;
});
toggleModal();
taskForm.reset();
subtaskContainer.innerHTML = `
<div class="subtask-item flex gap-2">
<input type="text" class="subtask flex-1 px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary" placeholder="请输入子任务">
<button type="button" class="remove-subtask text-red-500 hover:text-red-600 px-2">
<i class="fas fa-times w-5 h-5 flex justify-center items-center"></i>
</button>
</div>
`;
});

document.addEventListener('DOMContentLoaded', function() {
const viewBtns = document.querySelectorAll('.view-btn');
const viewContents = document.querySelectorAll('.view-content');

viewBtns.forEach(btn => {
btn.addEventListener('click', () => {
viewBtns.forEach(b => b.classList.remove('bg-primary', 'text-white'));
btn.classList.add('bg-primary', 'text-white');

const targetView = btn.dataset.view;
viewContents.forEach(content => {
content.classList.add('hidden');
if (content.id === `${targetView}View`) {
content.classList.remove('hidden');
}
});
});
});

document.querySelector('[data-view="day"]').classList.add('bg-primary', 'text-white');
});
</script>
</body>
</html>